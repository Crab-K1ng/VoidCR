--- a/finalforeach/cosmicreach/networking/netty/NettyServer.java
+++ b/finalforeach/cosmicreach/networking/netty/NettyServer.java
@@ -34,6 +_,7 @@
 import java.io.InputStreamReader;
 
 public class NettyServer {
+   public boolean running = true; // VoidCR - allow control of server termination
    public final ServerBroadcastIdentity broadcastIdentity;
    ObjectMap<ChannelHandlerContext, ServerIdentity> contextToIdentity = new ObjectMap();
    private Array<ServerIdentity> unauthenticatedConnections = new Array();
@@ -46,7 +_,7 @@
          if (var1 != null) {
             Logger.info(var1.getUsername() + ": " + var2);
          } else {
-            Logger.info("\n" + var2);
+            Logger.info(messageText); // VoidCR - better logging
          }
       }
    };
@@ -89,11 +_,11 @@
          String var5 = null;
          Logger.info("Server started, type 'stop' to shutdown and 'help' for commands.");
 
-         while (!"stop".equals(var5) && this.channelFuture.channel().isActive()) {
+         while (!"".equals(inputString) && this.channelFuture.channel().isActive() && running) { // VoidCR - allow control of server termination
             var5 = var4.readLine();
             this.processCommand(var5);
          }
-
+         sh.miles.voidcr.impl.server.VoidServer.SERVER.unload(); // VoidCR - unload server
          this.shutdown();
          this.channelFuture.channel().closeFuture().sync();
       } finally {
